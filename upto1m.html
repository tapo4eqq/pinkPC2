<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Сборки до 1.000.000 руб. - IntelligentPC</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header>
         <div class="back-to-home">
            <a href="index.html"><i class="fas fa-arrow-left"></i> На главную</a>
        </div>
        <div class="header-container">
            <div class="logo">IntelligentPC</div>
            <div class="header-right">
                <div class="contact-info">
                    <i class="fas fa-phone-alt"></i> +7 (962) 910-91-44
                </div>
                <nav>
                    <a href="support.html"><i class="fas fa-headset"></i> Поддержка</a>
                    <a href="servers.html"><i class="fas fa-server"></i> Серверы</a>
                    <a href="services.html"><i class="fas fa-cogs"></i> Услуги</a>
                    <a href="#cart" class="cart-link"><i class="fas fa-shopping-cart"></i> Корзина</a>
                </nav>
            </div>
        </div>
    </header>

    <nav>
        <a href="support.html">Поддержка</a>
        <a href="servers.html">Серверы</a>
        <a href="services.html">Услуги</a>
    </nav>

    <main>
 <div class="product-cards-container">
  <!-- Карточка ONE -->
  <div class="product-card">
    <h3>ONE</h3>
    <div class="availability in-stock">В наличии</div>
    <div class="delivery-time">На заказ, 5-8 дней</div>
    <div class="price">
      <span class="main-price">от 95 500 ₽</span>
      <span class="installment">или от 3 500 ₽/мес.</span>
    </div>
    <button class="configure-btn">Конфигурировать</button>
    <button class="buy-btn">Купить</button>
    
    <div class="details">
      <h4>Подробнее</h4>
      <ul>
        <li><strong>Показатели в играх:</strong> Ультра настройки, 60+ FPS</li>
        <li><strong>Видеокарта:</strong> NVIDIA GeForce RTX 3060 Ti</li>
        <li><strong>Процессор:</strong> Intel Core i5-13400F</li>
        <li><strong>Материнская плата:</strong> ASUS PRIME B760M-K</li>
        <li><strong>Охлаждение:</strong> Система воздушного охлаждения</li>
      </ul>
    </div>
  </div>

  <!-- Карточка FURY -->
  <div class="product-card">
    <h3>FURY</h3>
    <div class="availability low-stock">Осталось 2 шт.</div>
    <div class="delivery-time">На заказ, 5-8 дней</div>
    <div class="price">
      <span class="main-price">от 113 000 ₽</span>
      <span class="installment">или от 4 250 ₽/мес.</span>
    </div>
    <button class="configure-btn">Конфигурировать</button>
    <button class="buy-btn">Купить</button>
    
    <div class="details">
      <h4>Подробнее</h4>
      <ul>
        <li><strong>Показатели в играх:</strong> Ультра настройки, 100+ FPS</li>
        <li><strong>Видеокарта:</strong> NVIDIA GeForce RTX 4070</li>
        <li><strong>Процессор:</strong> Intel Core i5-13600KF</li>
        <li><strong>Материнская плата:</strong> MSI PRO B760-P WIFI</li>
        <li><strong>Охлаждение:</strong> Система жидкостного охлаждения</li>
      </ul>
    </div>
  </div>

  <!-- Карточка WARRIOR (нет в наличии) -->
  <div class="product-card out-of-stock">
    <h3>WARRIOR</h3>
    <div class="availability out-of-stock">Нет в наличии</div>
    <div class="delivery-time">На заказ, 5-8 дней</div>
    <div class="price">
      <span class="main-price">от 148 100 ₽</span>
      <span class="installment">или от 3 500 ₽/мес.</span>
    </div>
    <button class="configure-btn" disabled>Конфигурировать</button>
    <button class="buy-btn" disabled>Купить</button>
    <div class="notify-me">Уведомить о поступлении</div>
    
    <div class="details">
      <h4>Подробнее</h4>
      <ul>
        <li><strong>Показатели в играх:</strong> Ультра настройки, 144+ FPS</li>
        <li><strong>Видеокарта:</strong> NVIDIA GeForce RTX 4080</li>
        <li><strong>Процессор:</strong> Intel Core i7-13700KF</li>
        <li><strong>Материнская плата:</strong> ASUS ROG STRIX Z790-F</li>
        <li><strong>Охлаждение:</strong> Продвинутая система жидкостного охлаждения</li>
      </ul>
    </div>
  </div>
</div>
    </main>

    <aside id="cart">
        <h2>Корзина</h2>
        <ul id="cart-items">
            <!-- Здесь будут добавляться товары -->
        </ul>
        <div id="cart-total">
            Итого: 0 руб.
        </div>
    </aside>

    <script>
       document.addEventListener('DOMContentLoaded', function() {
    const cartItemsList = document.getElementById('cart-items');
    const cartTotalElement = document.getElementById('cart-total');
    const clearCartButton = document.getElementById('clear-cart-button'); // Получаем кнопку очистки корзины
    const addToCartButtons = document.querySelectorAll('.add-to-cart-button');

    let cart = [];

    // Функция для обновления отображения корзины
    function updateCartDisplay() {
        cartItemsList.innerHTML = ''; // Очищаем список
        let total = 0;

        cart.forEach(item => {
            const listItem = document.createElement('li');
            listItem.classList.add('cart-item');
            listItem.innerHTML = `
                <span class="cart-item-name">${item.name}</span>
                <div class="cart-item-quantity">
                    <button class="decrease" data-id="${item.id}" aria-label="Уменьшить количество">-</button>
                    <span>${item.quantity}</span>
                    <button class="increase" data-id="${item.id}" aria-label="Увеличить количество">+</button>
                </div>
                <span>${(item.price * item.quantity).toFixed(2)} руб.</span>
            `;
            cartItemsList.appendChild(listItem);
            total += item.price * item.quantity;
        });

        cartTotalElement.textContent = `Итого: ${total.toFixed(2)} руб.`;

        // Обновляем localStorage
        localStorage.setItem('cart', JSON.stringify(cart));
    }

    // Функция для добавления товара в корзину
    function addItemToCart(id, name, price) {
        const existingItem = cart.find(item => item.id === id);

        if (existingItem) {
            existingItem.quantity++;
        } else {
            cart.push({
                id: id,
                name: name,
                price: price,
                quantity: 1
            });
        }

        updateCartDisplay();
    }

    // Функция для изменения количества товара
    function changeQuantity(id, amount) {
        const item = cart.find(item => item.id === id);
        if (!item) return;

        item.quantity += amount;

        if (item.quantity <= 0) {
            cart = cart.filter(item => item.id !== id); // Удаляем из корзины
        }

        updateCartDisplay();
    }

    // Функция для очистки корзины
    function clearCart() {
        cart = [];
        updateCartDisplay();
    }


       addToCartButtons.forEach(button => {
        button.addEventListener('click', function(event) {
        event.preventDefault()
            const productCard = this.closest('.product-card');
            const id = productCard.dataset.id;
            const name = productCard.dataset.name;
            const price = parseFloat(productCard.dataset.price);

            addItemToCart(id, name, price);
        });
    });
        // Обработчики событий для кнопок увеличения/уменьшения количества
    cartItemsList.addEventListener('click', function(event) {
        if (event.target.classList.contains('decrease')) {
            const id = event.target.dataset.id;
            changeQuantity(id, -1);
        } else if (event.target.classList.contains('increase')) {
            const id = event.target.dataset.id;
            changeQuantity(id, 1);
        }
    });

      // Обработчик событий для кнопки "Очистить корзину"
    if (clearCartButton) {
        clearCartButton.addEventListener('click', function() {
            clearCart();
        });
    } else {
        console.error("Кнопка 'Очистить корзину' не найдена!");
    }

    // Загрузка корзины из localStorage при загрузке страницы
    const storedCart = localStorage.getItem('cart');
    if (storedCart) {
        cart = JSON.parse(storedCart);
        updateCartDisplay();
    }
});
    </script>
</body>

</html>